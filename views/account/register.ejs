<%- include("../partials/header") %>

<h1><%= title %></h1>

<!-- Flash messages (from req.flash('notice')) -->
<% if (notice && notice.length > 0) { %>
  <div class="alert alert-success">
    <%= notice %>
  </div>
<% } %>

<!-- Validation errors -->
<% if (errors && !errors.isEmpty()) { %>
  <div class="alert alert-danger">
    <ul>
      <% errors.array().forEach(error => { %>
        <li><%= error.msg %></li>
      <% }) %>
    </ul>
  </div>
<% } %>

<form action="/account/register" method="post" class="register-form">

  <label for="account_firstname">First Name</label>
  <input
    type="text"
    name="account_firstname"
    id="account_firstname"
    required
    value="<%= account_firstname || '' %>"
  >

  <label for="account_lastname">Last Name</label>
  <input
    type="text"
    name="account_lastname"
    id="account_lastname"
    required
    value="<%= account_lastname || '' %>"
  >

  <label for="account_email">Email Address</label>
  <input
    type="email"
    name="account_email"
    id="account_email"
    required
    value="<%= account_email || '' %>"
  >

  <label for="account_password">Password</label>
  <input
    type="password"
    name="account_password"
    id="account_password"
    required
    pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{12,}$"
  >

  <div class="password-rules">
    Password must be at least 12 characters and include:
    <ul>
      <li>1 uppercase letter</li>
      <li>1 lowercase letter</li>
      <li>1 number</li>
      <li>1 special character</li>
    </ul>
  </div>

  <button type="submit">Register</button>
</form>

<%- include("../partials/footer") %>
