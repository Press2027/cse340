<%- include("../partials/header") %>

<div class="account-container">
  <h1><%= title %></h1>

  <!-- Flash message -->
  <% if (notice) { %>
    <div class="alert alert-success">
      <% if (Array.isArray(notice)) { %>
        <% for (let i = 0; i < notice.length; i++) { %>
          <p><%= notice[i] %></p>
        <% } %>
      <% } else { %>
        <p><%= notice %></p>
      <% } %>
    </div>
  <% } %>

  <!-- Validation errors -->
  <% if (errors && !errors.isEmpty()) { %>
    <div class="alert alert-danger">
      <ul>
        <% const errArray = errors.array(); %>
        <% for (let i = 0; i < errArray.length; i++) { %>
          <li><%= errArray[i].msg %></li>
        <% } %>
      </ul>
    </div>
  <% } %>

  <form id="loginForm" action="/account/login" method="post">
    <label for="account_email">Email Address</label>
    <input
      type="email"
      name="account_email"
      id="account_email"
      required
      placeholder="Enter your email"
      value="<%= account_email || '' %>"
    >

    <label for="account_password">Password</label>
    <input
      type="password"
      name="account_password"
      id="account_password"
      required
      placeholder="Enter your password"
    >

    <button type="submit">Login</button>
  </form>

  <p class="register-link">
    Donâ€™t have an account?
    <a href="/account/register">Register here</a>
  </p>
</div>

<%- include("../partials/footer") %>
